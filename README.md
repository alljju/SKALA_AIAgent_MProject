# SKALA_AIAgent_MProject

## TITLE
AI 물류/유통 스타트업에 특화된 다국적 시장 진출 의사결정 지원 서비스입니다.

## Overview

- **Objective**: 물류 및 유통 스타트업을 위해 다국적 시장 진출 의사결정을 지원하는 **AI 기반 의사결정 시스템**을 구축하여, 기업들이 각 국가의 시장 특성에 맞는 최적의 진입 전략을 수립할 수 있도록 돕습니다. 이 시스템은 규제, 시장 매력도, 경쟁 분석 등 복잡한 변수를 통합하여 사용자가 효과적인 전략을 선택할 수 있도록 안내합니다.
  
- **Methods**:  
  1. **다중 에이전트 시스템(MAS)** - 각 국가와 산업에 특화된 데이터를 수집하고 분석하여 의사결정을 지원하는 여러 개의 전문 에이전트가 협업합니다.
  2. **Geo-fencing 및 RAG** - 선택된 국가와 산업에만 집중하여 데이터 수집 및 분석을 정확하게 제한하고, 최신의 검색된 정보를 바탕으로 의사결정을 시뮬레이션합니다.

- **Tools**:  
  1. **LangGraph** - 다중 에이전트의 워크플로우와 의사결정 흐름을 조정하고 최적화하는 오케스트레이션 도구입니다.
  2. **FastAPI** - 사용자 인터페이스를 통해 요청을 받고, 처리된 결과를 리포트 형식으로 제공합니다.
  3. **pgvector** - 벡터 데이터베이스를 사용하여 국가 및 산업별 정보를 색인화하고, 이를 기반으로 빠르고 정확한 검색을 지원합니다.

## Features

- **다국적 시장 분석**: 다양한 국가와 산업에 대한 시장 분석을 제공하여, 기업들이 진입할 시장의 매력도를 평가할 수 있습니다.
- **법적/규제 분석**: 각 국가별 법적 요구사항과 규제 장벽을 분석하고, 이에 대한 대응 전략을 제공합니다.
- **If-Then 시나리오 생성**: 실시간 데이터를 기반으로 전략적 결정을 내릴 수 있는 'If-Then' 시나리오를 제시하여, 최적의 시장 진입 경로를 안내합니다.

## Agents

### 1. 국가별 시장 조사 에이전트
- **목표**: 미국과 몽골의 시장 규모, 규제 요건, 경쟁사 조사
- **기능**: 해당 국가의 물류/유통 시장 규모, 주요 기업, 경쟁 분석 데이터 제공
  - **작업**: 
    - 국가별 시장의 규모 및 성장 전망 조사
    - 주요 기업 및 경쟁사 분석
    - 규제 요건 및 법적 장벽 분석

### 2. 경쟁 분석 에이전트
- **목표**: 물류/유통 산업 내 경쟁사의 변동 및 시장 차별화 포인트 도출
- **기능**: 주요 경쟁사의 기술, 전략, 시장 점유율 등 분석
  - **작업**: 
    - 경쟁사 분석(시장 점유율, 전략)
    - 경쟁사의 기술적 차별화 요소 분석
    - 시장의 경쟁 구도 및 주요 경쟁자 특징 도출

### 3. 진출 전략 제안 에이전트
- **목표**: 미국과 몽골 시장에 대한 진출 방식(직접 진출, 파트너십 등)을 제시
- **기능**: 두 국가에 적합한 진출 방법과 파트너십 옵션 제시
  - **작업**: 
    - 각 시장에 대한 진출 전략 제안(직접 진출, JV, 라이선싱 등)
    - 시장 상황에 맞는 진출 방식 분석

### 4. 파트너 후보 추천 에이전트
- **목표**: 파트너 후보를 탐색하고 추천
- **기능**: 현지 협력사, 투자자, 컨설턴트 추천
  - **작업**:
    - 각 시장에서 협력할 수 있는 파트너 후보 탐색
    - 잠재적인 투자자 및 컨설턴트 추천
    - 파트너십 모델에 맞는 후보자 선별

### 5. 전략 보고서 작성 에이전트
- **목표**: 최종 전략 요약 및 보고서 형식으로 제공
- **기능**: 전체 전략을 요약하고, 보고서 형태로 정리
  - **작업**:
    - 의사결정 흐름을 요약하여 보고서 형식으로 정리
    - 전략적 권고 사항을 제시
    - 보고서의 결론 및 실행 계획 제시

## State

- **country**: 사용자가 선택한 진출 목표 국가 (예: 미국, 몽골)
- **industry**: 진출하려는 산업 (예: 물류/소프트웨어, 이커머스)
- **decision_points**: 사용자가 선택한 시장에 진입하기 위한 주요 의사결정 지점 (예: 현지 서버 구축, 법인 설립 형태)
- **regulatory_barriers**: 각 국가 및 산업별 주요 법적 장벽 및 규제 요구사항
- **strategies**: 각 의사결정 지점에 따른 전략 옵션 (예: 100% 직접 투자, JV, 라이선싱 등)
  
## Tech Stack 

| Category   | Details                      |
|------------|------------------------------|
| Framework  | LangGraph, LangChain, Python |
| LLM        | GPT-4o-mini via OpenAI API   |
| Retrieval  | FAISS, Chroma                |
| Embedding  | OpenAIEmbedding, Mistral...  |


## Architecture

<img width="2491" height="1952" alt="Untitled diagram-2025-10-21-081953" src="https://github.com/user-attachments/assets/a4bdd6a3-4280-4902-a117-8eb0f7ab8ca5" />


## Directory Structure
```
m-medss/
├── apps/
│  └── api/
│     ├── main.py                 # FastAPI 엔트리
│     ├── deps.py                 # DI/세션/검증
│     ├── routes/
│     │  ├── report.py            # /v1/decision-map/report 엔드포인트
│     │  └── health.py            # 서비스 헬스 체크
│     └── schemas/
│        ├── state.py             # Pydantic 모델 (State 모델 정의)
│        └── io.py                # 요청/응답 데이터 구조 정의
├── graph/
│  ├── builder.py                 # StateGraph 정의 및 구축
│  ├── nodes/
│  │  ├── router.py               # Query Analyst & Router (사용자 쿼리 분석 및 라우팅)
│  │  ├── collector_market.py     # Market Sub-Agent (시장 데이터 수집)
│  │  ├── collector_legal.py      # Legal Sub-Agent (법률/규제 데이터 수집)
│  │  ├── strategy_generator.py   # Strategy Option Generator (전략 옵션 생성)
│  │  ├── decision_architect.py   # Decision-Flow Architect (If-Then 시나리오 구성)
│  │  └── report_generator.py     # Report Generator (결과 보고서 생성)
│  └── policies/
│     ├── scoring.py              # 전략 점수/가중치 계산
│     └── rules.py                # If-Then 규칙 템플릿 정의
├── tools/
│  ├── market_data.py             # MarketDataTool (시장 분석 데이터 수집)
│  ├── legal_db.py                # LegalDB (법률/규제 DB 검색)
│  ├── geofence.py                # GeoFence (국가/산업별 Geo-fencing 기능)
│  ├── rag.py                     # RAG.retrieve (검색 및 증강된 생성)
│  ├── cost_model.py              # CAPEX/OPEX 계산을 위한 비용 모델
│  └── partner_db.py              # Partner lookup (모의 파트너 DB, JV 탐색용)
├── data/
│  ├── seeds/                     # 초기 규칙/테이블 데이터 (기본값 설정)
│  └── index/                     # 벡터 인덱스 (국가×산업 분리된 인덱스 저장)
├── prompts/
│  ├── market_brief.md            # 시장 요약 프롬프트 템플릿
│  ├── legal_brief.md             # 법률/규제 요약 프롬프트 템플릿
│  ├── strategy_options.md        # 전략 옵션 생성 프롬프트 템플릿
│  └── decision_flow.md           # 의사결정 흐름 생성 프롬프트 템플릿
├── configs/
│  ├── app.yaml                  # FastAPI 설정 파일
│  └── rag.yaml                   # RAG 설정 파일 (검색 및 생성 파라미터)
├── tests/
│  ├── test_graph.py              # 그래프 로직 및 에이전트 통합 테스트
│  ├── test_tools.py              # 도구 관련 기능 테스트
│  └── fixtures/                  # 테스트 고정 데이터
└── README.md
```

# 시장 진입 전략 보고서

### SUMMARY
**경영진 요약**  
미국 물류 시장은 2024년 20.74조 달러로 성장할 것으로 예상되며, 연평균 성장률(CAGR)은 53%에 달합니다. 규제 측면에서 외국인 직접 투자(FDI)에 대한 제한이 없고, 데이터 현지화 요구사항도 없습니다. 이러한 환경은 직접 투자를 통해 시장에 진입할 수 있는 좋은 기회를 제공합니다.

미국의 물류 시장은 2024년 기준으로 약 20.74조 달러 규모로, 전체 물류 시장의 45%를 차지하는 화물 운송 부문이 주도하고 있습니다. 2030년까지 물류 비용은 연평균 1.85% 증가할 것으로 예상되며, 이는 시장의 지속적인 성장 가능성을 나타냅니다. 

**실행 시사점**
- 기회: 직접 투자를 통해 20.74조 달러 규모의 시장에 진입 가능성. (CAGR 53%로 성장 전망)
- 기회: 화물 운송 부문에서 45%의 시장 점유율 확보 가능성. (2024년 기준)
- 기회: 규제 완화로 인해 신속한 시장 진입이 가능함. (FDI 제한 없음)

- 리스크: 시장 경쟁 심화에 따른 가격 압박 가능성. (가격 전략 필요)
- 리스크: 물류 비용 상승으로 인한 수익성 저하 우려. (비용 관리 필요)
- 리스크: 기술 변화에 대한 적시 대응 필요. (기술 투자 필수)

**근거 요약**
- 총 인용/근거 수: 16

#### 1-1. 시장 개요 표
| 국가 | 시장규모(USD) | CAGR(%) | 기간 | 3대 트렌드 |
|---|---:|---:|---|---|
| United States | 20,740,000,000,000 | 53.0 | 2034-2034 | N/A |

**해석(수요 드라이버·리스크, 각 1단락)**  
- 드라이버: 미국의 물류 시장은 강력한 경제 성장과 인구 증가에 힘입어 급속히 성장하고 있습니다. 특히, 전자상거래의 확산과 함께 물류 서비스에 대한 수요가 증가하고 있으며, 이는 물류 비용의 증가와 함께 시장 규모를 더욱 확대시키고 있습니다.  
- 리스크: 물류 시장의 성장은 높은 경쟁과 규제 변화에 의해 저해될 수 있습니다. 특히, 인프라 부족이나 물류 비용 상승은 기업의 운영 효율성을 떨어뜨릴 수 있는 주요 리스크 요소로 작용할 수 있습니다.

**근거(최소 3)**  
- Expert Market Research, 2024, [링크](https://www.expertmarketresearch.com/reports/logistics-market?srsltid=AfmBOopwi1R1lyLp2LHqsGCwvN5ZQbJOsK6-ivffDypDkbcuNMac8qlR), "The global logistics market size was estimated at USD 11.26 Trillion in 2024 and expected to grow at a CAGR of 6.30% to reach USD 20.74 Trillion by 2034."  
- Statista, 2025, [링크](https://www.statista.com/outlook/mmo/transportation-logistics/united-states?srsltid=AfmBOoqkcwrNka3F_kszVHTG6kVFKFPvOLHGoDbQm5Mk1VFR9MjzVb5H), "Logistics costs is expected to show an annual growth rate (CAGR 2025-2030) of 1.85%, resulting in a projected growth of US$2.45tn by 2030."  
- Mordor Intelligence, 2024, [링크](https://www.mordorintelligence.com/industry-reports/united-states-freight-logistics-market), "The Freight Transport segment maintains its dominant position in the United States freight logistics industry, accounting for approximately 45% of the total market value in 2024."

#### 1-2. 경쟁 구도
| 기업          | 지역        | 포지셔닝       | 기술/운영 역량           | 전략 요약                          |
|---------------|-------------|----------------|--------------------------|------------------------------------|
| UPS           | 미국        | 프리미엄 물류  | 고급 물류 네트워크       | 가격 경쟁력 및 서비스 다양화      |
| FedEx         | 미국        | 신속 배송      | 글로벌 물류 시스템       | 빠른 배송 및 고객 맞춤형 서비스   |
| DHL           | 글로벌      | 국제 물류      | 강력한 글로벌 네트워크   | 서비스 품질 및 가격 경쟁          |
| Amazon        | 글로벌      | E-커머스 물류  | 자동화 및 데이터 분석    | 가격 저렴화 및 고객 경험 향상    |
| XPO Logistics  | 미국        | 종합 물류      | 기술 기반 운영           | 통합 서비스 및 혁신적 솔루션 제공 |

**시장 집중도/구조 요약(3불릿)**  
- 미국 물류 시장 규모는 약 20.74조 달러로 예상되며, 2034년까지 연평균 성장률(CAGR)은 53%에 이를 것으로 보임 (출처: Expert Market Research, 2024).
- 화물 운송 부문이 미국 물류 산업에서 약 45%의 시장 가치를 차지하고 있음 (출처: Mordor Intelligence, 2024).
- 자료 부족으로 HHI(헤르핀달-허시만 지수) 제공 불가.

**화이트스페이스(3)**  
- 자동화 및 AI 기반 물류 솔루션의 개발 및 도입.
- 지속 가능한 물류 솔루션에 대한 수요 증가에 따른 친환경 물류 서비스.
- 중소기업을 위한 맞춤형 물류 서비스 제공.

#### 1-3. KSF
- **공통(2)**:  
  - 규제준수 — 지표: 규제 준수 비율 95% 이상 / 선결: 법률 및 규제 분석 완료  
  - 데이터 거버넌스 — 지표: 데이터 보안 사고 발생률 0.5% 이하 / 선결: 데이터 관리 정책 수립  
- **국가별(각 1)**:  
  - United States: 현지 라스트마일 네트워크 최적화 — 지표: 배송 시간 2일 이내 비율 90% 이상 / 선결: 물류 인프라 분석 완료

#### 2-1. 진입 방식 비교
| 모드        | 통제      | 자본      | 규제적합성 | 실행속도 | 이상적 상황                     |
|------------|----------|----------|-----------|---------|-------------------------------|
| Direct     | 높음     | 고       | N/A       | 느림    | 완전한 통제 필요 시             |
| JV         | 중       | 중       | N/A       | 중간    | 리스크 분산 및 자원 공유 필요 시 |
| Licensing   | 낮음     | 저       | N/A       | 빠름    | 빠른 시장 진입 필요 시          |
| M&A        | 높음     | 고       | N/A       | 빠름    | 신속한 시장 점유율 확대 필요 시  |

### 모드 정의 및 전제조건
- **Direct**: 자본을 직접 투자하여 완전한 소유권을 확보하는 방식.
- **JV (Joint Venture)**: 다른 기업과 협력하여 공동으로 사업을 운영하는 방식.
- **Licensing**: 자산이나 기술을 다른 기업에 사용 권한을 부여하는 방식.
- **M&A (Mergers and Acquisitions)**: 다른 기업을 인수하거나 합병하여 시장 점유율을 확대하는 방식. 

### 비교 기준 설명
- **통제**: 기업이 사업 운영에 대한 통제 수준.
- **자본**: 초기 투자 필요성.
- **규제적합성**: 해당 시장의 규제 준수 여부.
- **실행속도**: 시장 진입 속도.

#### 2-2. 옵션별 초기 평가
| 모드         | 점수(0–100) | Pros                                         | Cons                                             | 한 줄 코멘트       |
|--------------|-------------:|----------------------------------------------|--------------------------------------------------|--------------------|
| Direct       | 65           | - 성장 전망이 전액 소유 확장을 지지함<br>- 시장 규모가 크고 성장률이 높음 | - 초기 투자 비용이 높을 수 있음<br>- 시장 진입 리스크 존재 | 직접 투자가 유리함 |
| JV           | 55           | - 현지 파트너와의 협력 가능성<br>- 리스크 분산 효과 | - 규제 마찰이 낮으면 필요 없음<br>- 의사결정 지연 가능성 | JV 필요성 낮음    |
| Licensing     | 50           | - 초기 투자 부담이 적음<br>- 빠른 시장 진입 가능 | - 높은 성장률에 비해 통제력 부족<br>- 수익성 제한 가능성 | 통제력 부족 우려   |
| M&A          | 60           | - 규모 확보로 빠른 성장 가능<br>- 경쟁력 강화 | - 통합 과정에서의 복잡성<br>- 높은 인수 비용 | M&A로 성장 가속화 |

**가중치·룰**: CAGR > 50% 가점, FDI 제한 없음 패널티 없음

#### 3-1. 주요 장벽
| 카테고리 | 이슈 | 임팩트 | 대응 | 근거(요약·연도) |
|---|---|---|---|---|
| 규제/FDI | FDI 지분제한 | Low | N/A | N/A |
| 데이터 | 데이터 현지화 | Low | N/A | N/A |
| 규제/세제 | 세제 규제 | Medium | 법적 조치 필요 | 미국의 세제 규제는 복잡하며, 기업의 운영에 영향을 미칠 수 있음 (출처: YCP Group, 2023) |
| 규제/노동 | 노동 규제 | Medium | 조직 내 인사 정책 조정 | 미국의 노동 규제는 기업의 인사 운영에 영향을 미침 (출처: YCP Group, 2023) |
| 운영/인프라 | 인프라 병목 | High | 파트너십 구축 | 미국 물류 시장의 인프라 병목 현상은 비용 증가를 초래할 수 있음 (출처: Statista, 2023) |
| 운영/환율 | 환율 변동 | Medium | 자본 관리 전략 수립 | 환율 변동은 수익성에 영향을 미칠 수 있음 (출처: Mordor Intelligence, 2023) |
| 운영/자본통제 | 자본통제 | Low | N/A | N/A |

### 대응 방안
- **법적 조치 필요**: 세제 규제와 노동 규제에 대한 법적 조치를 통해 기업의 운영을 원활하게 할 수 있음.
- **조직 내 인사 정책 조정**: 노동 규제에 맞춰 인사 정책을 조정하여 법적 리스크를 최소화.
- **파트너십 구축**: 인프라 병목 문제를 해결하기 위해 현지 파트너와의 협력을 강화.
- **자본 관리 전략 수립**: 환율 변동에 대비한 자본 관리 전략을 수립하여 재무 안정성을 확보.

#### 3-2/3-3. 결정 플로우
**Country: United States**  
- **Scenario A (조건 충족 시)**: 직접 투자 또는 M&A  
  - 근거① **CAGR≥53%**: 높은 성장 전망이 전적으로 소유한 확장을 지원함 (YCP Group, 2023)  
  - 근거② **FDI=high**: 규제 마찰이 낮아 직접 투자에 유리함 (YCP Group, 2023)  
  - 근거③ **시장 규모 USD 20.74 Trillion**: 물류 시장의 큰 규모가 직접 투자에 대한 매력을 높임 (Expert Market Research, 2024)  

- **Scenario B (미충족/리스크高 시)**: JV/라이선스  
  - 근거① **규제 마찰이 낮지 않을 경우**: JV가 필요할 수 있음 (YCP Group, 2023)  
  - 근거② **고성장 시장에서의 통제 필요성**: 라이선스는 통제를 충분히 제공하지 않음 (PLG Consulting, 2023)  
  - 근거③ **M&A의 필요성**: 규모를 확보하여 빠른 성장을 촉진할 수 있음 (Mordor Intelligence, 2024)  

(다음 국가 동일 포맷…)

#### 4. 30/60/90일 액션 플랜
| Day | 워크스트림 | 액션 | 오너 | 산출물 | 리스크/결정포인트 |
|---:|---|---|---|---|---|
| 30 | Legal | 법률 및 규제 검토 | 법무팀 | 법률 검토 보고서 | 규제 변경 가능성 |
| 30 | Partner | 현지 파트너 탐색 | 파트너십 팀 | 파트너 목록 | 파트너 적합성 |
| 30 | Commercial | 고객 요구사항 조사 | 상업팀 | 고객 요구사항 보고서 | 시장 반응 불확실성 |
| 30 | Org | 거버넌스 구조 설계 | 조직팀 | 거버넌스 구조 문서 | 조직 내 저항 가능성 |
| 60 | Legal | 계약 초안 작성 | 법무팀 | 계약 초안 | 계약 조건 협상 |
| 60 | Partner | 파트너 실사 진행 | 파트너십 팀 | 실사 보고서 | 파트너 신뢰성 |
| 60 | Commercial | PoC 개발 시작 | 상업팀 | PoC 계획서 | 기술적 문제 발생 가능성 |
| 60 | Org | 거버넌스 체계 구축 | 조직팀 | 거버넌스 운영 매뉴얼 | 운영 비효율성 |
| 90 | Legal | 계약 체결 | 법무팀 | 최종 계약서 | 법적 분쟁 가능성 |
| 90 | Partner | 파트너와 협력 관계 구축 | 파트너십 팀 | 파트너십 계약 | 파트너 이탈 위험 |
| 90 | Commercial | PoC 결과 분석 | 상업팀 | PoC 결과 보고서 | 고객 반응 부정적 가능성 |
| 90 | Org | 거버넌스 평가 및 조정 | 조직팀 | 거버넌스 평가 보고서 | 조정 실패 가능성 |



